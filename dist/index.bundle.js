!function(e){var t={};function n(r){if(t[r])return t[r].exports;var u=t[r]={i:r,l:!1,exports:{}};return e[r].call(u.exports,u,u.exports,n),u.l=!0,u.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var u in e)n.d(r,u,function(t){return e[t]}.bind(null,u));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=2)}([function(e,t){e.exports=require("express")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n(8));t.default={getHash:function(e){return new Promise(function(t,n){r.default.hash(e,10,function(e,r){if(e)return n();t(r)})})},compareHash:function(e,t){return new Promise(function(n,u){r.default.compare(e,t,function(e,t){if(e||!t)return u();n(!0)})})}}},function(e,t,n){"use strict";(function(e){var t=function(e){return e&&e.__esModule?e:{default:e}}(n(3));var r=n(0),u=n(14),s=n(15),o=n(16),a=r(),i=process.env.PORT||8321;a.use(s("dev")),a.use(u.json()),a.use(r.static(e+"/client/build")),a.use(t.default),a.get("*",function(t,n){n.sendFile(e+"/client/build/index.html")}),o.sequelize.sync().then(function(){a.listen(i,function(){console.log("App listening on PORT: "+i)})})}).call(this,"/")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=u(n(4));function u(e){return e&&e.__esModule?e:{default:e}}var s=u(n(0)).default.Router();s.use("/api",r.default),t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(5)),u=o(n(7)),s=o(n(11));function o(e){return e&&e.__esModule?e:{default:e}}var a=o(n(0)).default.Router();a.use("/",r.default),a.use("/",u.default),a.use("/activities",s.default),t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n(0)).default.Router();r.use("/",n(6)({bucket:"bixygroups",getFileKeyDir:function(){return"pbp"},uniquePrefix:!0})),t.default=r},function(e,t){e.exports=require("react-s3-uploader/s3router")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(0)),u=o(n(1)),s=o(n(16));function o(e){return e&&e.__esModule?e:{default:e}}var a=n(10),i=r.default.Router();i.post("/hash",function(e,t){u.default.getHash(e.body.password).then(function(e){t.send(e)},function(){t.status(500).send()})}),i.post("/login",function(e,t){s.default.User.findOne({where:{username:e.body.username}}).then(function(n){n?u.default.compareHash(e.body.password,n.password).then(function(){t.json(a.sign({username:e.body.username,password:e.body.password,id:n.id},process.env.JWT_SECRET))},function(){t.status(401).send()}):t.status(401).send()},function(){t.status(401).send()})}),i.post("/register",function(e,t){"pajouxparty"!==e.body.accessCode?t.status(401).json({error:{accessCode:"Incorrect Access Code."}}):u.default.getHash(e.body.password).then(function(n){var r={username:e.body.username,password:n,firstName:e.body.firstName,lastName:e.body.lastName,email:e.body.email};s.default.User.create(r).then(function(e){return t.json(a.sign({username:e.username,id:e.id,password:e.password},process.env.JWT_SECRET))},function(e){return t.status(401).json(e)})},function(){t.status(500).send()})}),t.default=i},function(e,t){e.exports=require("bcryptjs")},,function(e,t){e.exports=require("jsonwebtoken")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s(n(0)),u=s(n(12));function s(e){return e&&e.__esModule?e:{default:e}}var o=n(13),a=r.default.Router();a.get("/",o({secret:process.env.JWT_SECRET}),u.default,function(e,t){t.json(["activity 1","activity 2","activity 3"])}),t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s(n(1)),u=s(n(16));function s(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t,n){if(!(e.user&&e.user.id&&e.user.username&&e.user.password))return t.status(401).send();u.default.User.findOne({where:{username:e.user.username}}).then(function(u){return u?r.default.compareHash(e.user.password,u.password).then(function(){return console.log("test"),n()},function(){t.status(401).send()}):t.status(401).send()},function(){return t.status(401).send()})}},function(e,t){e.exports=require("express-jwt")},function(e,t){e.exports=require("body-parser")},function(e,t){e.exports=require("morgan")},function(e,t,n){"use strict";var r=n(17),u=n(18).production;if(u.use_env_variable)var s=new r(process.env[u.use_env_variable]);else s=new r(u.database,u.username,u.password,u);var o={User:n(19)(s,r),UserReceipt:n(20)(s,r),Receipt:n(21)(s,r),ReceiptType:n(22)(s,r),Payment:n(23)(s,r),PaymentMethod:n(24)(s,r)};Object.keys(o).forEach(function(e){o[e].associate&&o[e].associate(o)}),console.log(o),o.sequelize=s,o.Sequelize=r,e.exports=o},function(e,t){e.exports=require("sequelize")},function(e){e.exports={development:{username:"root",password:"ChangeMe123",database:"phil_db",host:"127.0.0.1",port:3306,dialect:"mysql"},test:{username:"root",password:"ChangeMe123",database:"phil_db",host:"127.0.0.1",port:3306,dialect:"mysql"},production:{username:"root",password:"ChangeMe123",database:"phil_db",host:"127.0.0.1",port:3306,dialect:"mysql"}}},function(e,t,n){"use strict";e.exports=function(e,t){var n=e.define("User",{id:{primaryKey:!0,type:t.UUID,defaultValue:t.UUIDV4,allowNull:!1},firstName:{type:t.STRING,allowNull:!1},lastName:{type:t.STRING,allowNull:!1},email:{type:t.STRING,allowNull:!1,validate:{isEmail:!0}},username:{type:t.STRING,unique:!0,allowNull:!1},password:{type:t.STRING,allowNull:!1}});return n.associate=function(e){n.belongsToMany(e.Receipt,{through:e.UserReceipt}),n.hasMany(e.PaymentMethod),n.hasMany(e.Payment,{foreignKey:"pay_to"}),n.hasMany(e.Payment,{foreignKey:"pay_from"})},n}},function(e,t,n){"use strict";e.exports=function(e,t){return e.define("UserReceipt",{cost:t.INTEGER})}},function(e,t,n){"use strict";e.exports=function(e,t){var n=e.define("Receipt",{id:{primaryKey:!0,type:t.UUID,defaultValue:t.UUIDV4},description:t.STRING,total:t.INTEGER,tax:t.INTEGER,tip:t.INTEGER});return n.associate=function(e){n.belongsToMany(e.User,{through:e.UserReceipt}),n.belongsTo(e.ReceiptType)},n}},function(e,t,n){"use strict";e.exports=function(e,t){var n=e.define("ReceiptType",{description:t.STRING});return n.associate=function(e){n.hasMany(e.Receipt)},n}},function(e,t,n){"use strict";e.exports=function(e,t){var n=e.define("Payment",{id:{primaryKey:!0,type:t.UUID,defaultValue:t.UUIDV4},cost:t.INTEGER,paid:{type:t.BOOLEAN,allowNull:!1,defaultValue:!1}});return n.associate=function(e){n.belongsTo(e.User,{foreignKey:"pay_to"}),n.belongsTo(e.User,{foreignKey:"pay_from"})},n}},function(e,t,n){"use strict";e.exports=function(e,t){var n=e.define("PaymentMethod",{id:{primaryKey:!0,type:t.UUID,defaultValue:t.UUIDV4},description:t.STRING});return n.associate=function(e){n.belongsTo(e.User)},n}}]);
//# sourceMappingURL=index.bundle.js.map