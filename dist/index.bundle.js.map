{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./index.js","webpack:///./server/index.js","webpack:///./server/models/index.js","webpack:///./server/models/payment-methods.js","webpack:///./server/models/payments.js","webpack:///./server/models/receipt-types.js","webpack:///./server/models/receipts.js","webpack:///./server/models/user-receipts.js","webpack:///./server/models/users.js","webpack:///./server/routes/activities.js","webpack:///./server/routes/index.js","webpack:///./server/routes/login.js","webpack:///./server/routes/resources/hashedPass.js","webpack:///./server/routes/resources/protectedRoute.js","webpack:///./server/routes/s3.js","webpack:///external \"bcryptjs\"","webpack:///external \"body-parser\"","webpack:///external \"express\"","webpack:///external \"express-jwt\"","webpack:///external \"jsonwebtoken\"","webpack:///external \"morgan\"","webpack:///external \"react-s3-uploader/s3router\"","webpack:///external \"sequelize\""],"names":["express","require","bodyParser","logger","db","app","PORT","process","env","use","json","static","__dirname","apiRoutes","get","req","res","sendFile","sequelize","sync","then","listen","console","log","router","Router","routes","Sequelize","config","use_env_variable","database","username","password","User","UserReceipt","Receipt","ReceiptType","Payment","PaymentMethod","Object","keys","forEach","modelName","associate","module","exports","DataTypes","define","id","primaryKey","type","UUID","defaultValue","UUIDV4","description","STRING","models","belongsTo","cost","INTEGER","paid","BOOLEAN","allowNull","foreignKey","hasMany","total","tax","tip","belongsToMany","through","firstName","lastName","email","validate","isEmail","unique","jwt","secret","JWT_SECRET","protectedRoute","s3","login","activities","post","hashPass","getHash","body","hash","send","status","findOne","where","found","compareHash","sign","accessCode","user","create","newUser","error","Promise","resolve","reject","bcrypt","compare","err","next","bucket","getFileKeyDir","uniquePrefix"],"mappings":"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","file":"index.bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./index.js\");\n","import apiRoutes from './server';\nconst express = require(\"express\");\nconst bodyParser = require(\"body-parser\");\nconst logger = require(\"morgan\");\nvar db = require(\"./server/models\");\n\nconst app = express();\n\nconst PORT = process.env.PORT || 8321; // Sets an initial port. We'll use this later in our listener\n\napp.use(logger(\"dev\"));\napp.use(bodyParser.json());\n\napp.use(express.static(`${__dirname}/client/build`));\n\napp.use(apiRoutes);\n\n// Any non API GET routes will be directed to our React App and handled by React Router\napp.get(\"*\", (req, res) => {\n    res.sendFile(`${__dirname}/client/build/index.html`);\n});\n\ndb.sequelize.sync().then(function() {\n  app.listen(PORT, function() {\n    console.log(\"App listening on PORT: \" + PORT);\n  });\n});","import routes from './routes';\nimport express from 'express';\nconst router = express.Router();\nrouter.use('/api', routes);\nexport default router;","var Sequelize = require(\"sequelize\");\nvar env = process.env.NODE_ENV || \"development\";\nconsole.log(env);\nvar config = require(__dirname + \"/../config/config.json\")[env];\n\nif (config.use_env_variable) {\n  var sequelize = new Sequelize(process.env[config.use_env_variable]);\n} else {\n  var sequelize = new Sequelize(config.database, config.username, config.password, config);\n}\nvar db = {\n  User: require('./users.js')(sequelize, Sequelize),\n  UserReceipt: require('./user-receipts.js')(sequelize, Sequelize),\n  Receipt: require('./receipts.js')(sequelize, Sequelize),\n  ReceiptType: require('./receipt-types.js')(sequelize, Sequelize),\n  Payment: require('./payments.js')(sequelize, Sequelize),\n  PaymentMethod: require('./payment-methods.js')(sequelize, Sequelize),\n};\n\nObject.keys(db).forEach(function(modelName) {\n  if (db[modelName].associate) {\n    db[modelName].associate(db);\n  }\n});\nconsole.log(db);\n\ndb.sequelize = sequelize;\ndb.Sequelize = Sequelize;\nmodule.exports = db;\n","module.exports = function(sequelize, DataTypes) {\n    var PaymentMethod = sequelize.define(\"PaymentMethod\", {\n      // Giving the Product model a name of type STRING\n      id: {\n        primaryKey: true,\n        type: DataTypes.UUID,\n        defaultValue: DataTypes.UUIDV4,\n      },\n      description: DataTypes.STRING\n    });\n  \n    PaymentMethod.associate = function(models) {\n      // Associating Product with Posts\n      // When an Product is deleted, also delete any associated Posts\n      PaymentMethod.belongsTo(models.User);\n    };\n  \n    return PaymentMethod;\n  };","module.exports = function(sequelize, DataTypes) {\n    var Payment = sequelize.define(\"Payment\", {\n      // Giving the Product model a name of type STRING\n      id: {\n        primaryKey: true,\n        type: DataTypes.UUID,\n        defaultValue: DataTypes.UUIDV4,\n      },\n      cost: DataTypes.INTEGER,\n      paid: { type: DataTypes.BOOLEAN, allowNull: false, defaultValue: false }\n    });\n  \n    Payment.associate = function(models) {\n      // Associating Product with Posts\n      // When an Product is deleted, also delete any associated Posts\n      Payment.belongsTo(models.User, {\n          foreignKey: 'pay_to'\n      });\n      Payment.belongsTo(models.User, {\n          foreignKey: 'pay_from'\n      });\n    };\n  \n    return Payment;\n  };","module.exports = function(sequelize, DataTypes) {\n    var ReceiptType = sequelize.define(\"ReceiptType\", {\n      // Giving the Product model a name of type STRING\n      description: DataTypes.STRING\n    });\n  \n    ReceiptType.associate = function(models) {\n      // Associating Product with Posts\n      // When an Product is deleted, also delete any associated Posts\n      ReceiptType.hasMany(models.Receipt);\n    };\n  \n    return ReceiptType;\n  };","module.exports = function(sequelize, DataTypes) {\n  var Receipt = sequelize.define(\"Receipt\", {\n    // Giving the Product model a name of type STRING\n    id: {\n      primaryKey: true,\n      type: DataTypes.UUID,\n      defaultValue: DataTypes.UUIDV4,\n    },\n    description: DataTypes.STRING,\n    total: DataTypes.INTEGER,\n    tax: DataTypes.INTEGER,\n    tip: DataTypes.INTEGER\n  });\n\n  Receipt.associate = function(models) {\n    // Associating Product with Posts\n    // When an Product is deleted, also delete any associated Posts\n    Receipt.belongsToMany(models.User, {\n      through: models.UserReceipt\n    });\n    Receipt.belongsTo(models.ReceiptType);\n  };\n\n  return Receipt;\n};\n","module.exports = function(sequelize, DataTypes) {\n    var UserReceipt = sequelize.define(\"UserReceipt\", {\n      cost: DataTypes.INTEGER\n    });\n  \n    return UserReceipt;\n  };\n  ","module.exports = function(sequelize, DataTypes) {\n  var User = sequelize.define(\"User\", {\n    // Giving the Store model a name of type STRING\n    id: {\n      primaryKey: true,\n      type: DataTypes.UUID,\n      defaultValue: DataTypes.UUIDV4,\n      allowNull: false\n    },\n    firstName:  {\n      type: DataTypes.STRING,\n      allowNull: false\n    },\n    lastName:  {\n      type: DataTypes.STRING,\n      allowNull: false\n    },\n    email: {\n      type: DataTypes.STRING,\n      allowNull: false,\n      validate: {\n        isEmail: true\n      }\n    },\n    username:  {\n      type: DataTypes.STRING,\n      unique: true,\n      allowNull: false\n    },\n    password:  {\n      type: DataTypes.STRING,\n      allowNull: false\n    }\n  });\n\n  User.associate = function(models) {\n    // Associating Store with Posts\n    // When an Store is deleted, also delete any associated Posts\n    User.belongsToMany(models.Receipt, {\n      through: models.UserReceipt\n    });\n    User.hasMany(models.PaymentMethod);\n\n    User.hasMany(models.Payment, {\n      foreignKey: 'pay_to'\n    });\n    User.hasMany(models.Payment, {\n        foreignKey: 'pay_from'\n    });\n  };\n\n  return User;\n};\n","import express from 'express';\nimport protectedRoute from './resources/protectedRoute';\nvar jwt = require('express-jwt');\nconst router = express.Router();\nrouter.get('/', jwt({ secret: process.env.JWT_SECRET }), protectedRoute, (req, res) => {\n    res.json(['activity 1', 'activity 2', 'activity 3']);\n});\nexport default router;","import s3 from './s3.js';\nimport login from './login.js';\nimport activities from './activities.js';\nimport express from 'express';\nconst router = express.Router();\nrouter.use('/', s3);\nrouter.use('/', login);\nrouter.use('/activities', activities);\nexport default router;","import express from 'express';\nimport hashPass from './resources/hashedPass.js';\nimport db from '../models';\nvar jwt = require('jsonwebtoken');\nconst router = express.Router();\nrouter.post('/hash', (req, res) => {\n    hashPass.getHash(req.body.password).then((hash) => {\n        res.send(hash);\n    }, () => {\n        res.status(500).send();\n    })\n});\nrouter.post('/login', (req, res) => {\n    db.User.findOne({\n        where: {\n            username: req.body.username\n        }\n    }).then(found => {\n        if (found) {\n            hashPass.compareHash(req.body.password, found.password).then(() => {\n                res.json(jwt.sign({ username: req.body.username, password: req.body.password, id: found.id }, process.env.JWT_SECRET));\n            }, () => {\n                res.status(401).send();\n            })\n        } else {\n            res.status(401).send();\n        }\n    }, () => {\n        res.status(401).send();\n    });\n});\nrouter.post('/register', (req, res) => {\n    if (req.body.accessCode === \"pajouxparty\") {\n        hashPass.getHash(req.body.password).then((hash) => {\n            const user = {\n                username: req.body.username,\n                password: hash,\n                firstName: req.body.firstName,\n                lastName: req.body.lastName,\n                email: req.body.email\n            }\n            db.User.create(user).then(newUser => res.json(jwt.sign({ username: newUser.username, id: newUser.id, password: newUser.password }, process.env.JWT_SECRET)), \n            error => res.status(401).json(error));\n        }, () => {\n            res.status(500).send();\n        });\n        return;\n    }\n    res.status(401).json({error: {accessCode: \"Incorrect Access Code.\"}});\n});\nexport default router;","import bcrypt from 'bcryptjs';\n\nconst compareHash = (password, hashPass) => {\n    return new Promise((resolve, reject) => {\n        bcrypt.compare(password, hashPass, (err, res) => {\n            if (err || !res) {\n                return reject();\n            }\n            resolve(true);\n        })\n    })\n}\n\nconst getHash = (password) => {\n    return new Promise((resolve, reject) => {\n        bcrypt.hash(password, 10, (err, res) => {\n            if (err) {\n                return reject();\n            }\n            resolve(res);\n        })\n    })\n}\n\nexport default { getHash, compareHash };","import hashPass from './hashedPass';\nimport db from '../../models';\nexport default (req, res, next) => {\n    if (!req.user || !req.user.id || !req.user.username || !req.user.password) {\n        return res.status(401).send();\n    }\n\n    db.User.findOne({\n        where: {\n            username: req.user.username\n        }\n    }).then(found => {\n        if (found) {\n            return hashPass.compareHash(req.user.password, found.password).then(() => {\n                console.log('test');\n                return next();\n            }, () => {\n                res.status(401).send();\n            })\n        } else {\n            return res.status(401).send();\n        }\n    }, () => {\n        return res.status(401).send();\n    });\n}","import express from 'express';\nconst router = express.Router();\nrouter.use('/', require('react-s3-uploader/s3router')({\n    bucket: \"bixygroups\",\n    getFileKeyDir: () => \"pbp\",\n    uniquePrefix: true // (4.0.2 and above) default is true, setting the attribute to false preserves the original filename in S3\n  }));\nexport default router;","module.exports = require(\"bcryptjs\");","module.exports = require(\"body-parser\");","module.exports = require(\"express\");","module.exports = require(\"express-jwt\");","module.exports = require(\"jsonwebtoken\");","module.exports = require(\"morgan\");","module.exports = require(\"react-s3-uploader/s3router\");","module.exports = require(\"sequelize\");"],"sourceRoot":""}